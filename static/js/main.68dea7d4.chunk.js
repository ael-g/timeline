(this.webpackJsonptimeline=this.webpackJsonptimeline||[]).push([[0],{78:function(e,t,n){},79:function(e,t,n){},82:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),s=(n(78),n(79),n(64)),o=n(20),l=n.n(o),u=n(41),d=n(32),j=(n(62),n(40)),f=n(56);n(95);f.a.initializeApp({apiKey:"AIzaSyAMtqF0uh_sVeM7DI4JcIqAoTBLlbTmwiQ",authDomain:"aelg-test.firebaseapp.com",databaseURL:"https://aelg-test.firebaseio.com",projectId:"aelg-test",storageBucket:"aelg-test.appspot.com",messagingSenderId:"235970089357",appId:"1:235970089357:web:08c07410f7554dda2b6dc4",measurementId:"G-L6NLVB99Y9"});var p=f.a.firestore(),b=(n(82),n(8));var h=function(){var e=Object(a.useState)({centuries:[],periods:[],people:[]}),t=Object(j.a)(e,2),n=t[0],r=t[1],c=function(e){var t=e.reduce((function(e,t){return t.deathDate>e?t.deathDate:e}),0),n=e.reduce((function(e,t){return t.bornDate<e?t.bornDate:e}),1e4);return{min:100*Math.floor(n/100),max:100*Math.ceil(t/100)}},i=function(e,t){for(var n=[],a=e;a<t;a+=100){var r=(a-e)/100,c=100/((t-e)/100),i=c*r;n.push({id:r,width:c,left:i,year:a})}return n},s=function(e,t,n){for(var a=[],r=0;r<e.length;r++){var c=e[r],i=100*(c.deathDate-c.bornDate)/(n-t),s=100*(c.bornDate-t)/(n-t),o=4+60*r/e.length;a.push({width:i,left:s,name:c.name,start:c.bornDate,end:c.deathDate,marginTop:o})}return a},o=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("people").get();case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return Object(u.a)({id:e.id},e.data())})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Object(d.a)(l.a.mark((function e(){var t,n,a,u,d,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:t=e.sent,n=c(t),a=n.min,u=n.max,d=i(a,u),j=s(t,a,u),r({min:a,max:u,centuries:d,periods:[],people:j}),console.log(t);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(b.jsxs)("div",{style:{position:"absolute",width:"80%"},children:[n.centuries.map((function(e){return Object(b.jsx)("a",{className:"Centuries",style:{width:"".concat(e.width,"%"),left:"".concat(e.left,"%")},children:e.year},e.year)})),n.periods.map((function(e){return Object(b.jsxs)("a",{className:"Periods",style:{width:"".concat(e.width,"%"),left:"".concat(e.left,"%")},children:[Object(b.jsx)("div",{className:"Left",children:e.start}),Object(b.jsx)("div",{className:"Centered",children:e.name}),Object(b.jsx)("div",{className:"Right",children:e.end})]},e.name)})),n.people.map((function(e){return Object(b.jsxs)("a",{className:"People",style:{width:"".concat(e.width,"%"),left:"".concat(e.left,"%"),marginTop:"".concat(e.marginTop,"%")},children:[Object(b.jsx)("div",{className:"Left",children:e.start}),Object(b.jsx)("div",{className:"Centered",children:e.name}),Object(b.jsx)("div",{className:"Right",children:e.end})]},e.name)}))]})},m=n(125),x=n(132),v=n(131),O=n(134),g=n(133),y=n(130),D=n(129),w=n(63),k=n.n(w);var C=function(){var e=Object(a.useState)({id:"",name:"",picture:"",bornDate:1800,deathDate:1900}),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(u.a)({},n),i=Object(a.useState)([]),s=Object(j.a)(i,2),o=s[0],f=s[1];Object(a.useEffect)((function(){h()}),[]);var h=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("people").orderBy("name").get();case 2:t=e.sent,n=t.docs.map((function(e){return Object(u.a)({id:e.id},e.data())})),f(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=c).name&&t.bornDate&&t.deathDate)){e.next=11;break}return e.next=4,p.collection("people").where("name","==",t.name).get();case 4:if(e.sent.docs.length){e.next=11;break}return console.log("Creatingg"),e.next=9,p.collection("people").add(t);case 9:return e.next=11,h();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("On delete");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(m.a,{style:{display:"flex",flexDirection:"column",height:"97vh"},children:[Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(b.jsx)(g.a,{id:"name",onChange:function(e){c.name=e.target.value,r(c)},label:"Name",value:n.name}),Object(b.jsx)(g.a,{id:"bornDate",onChange:function(e){c.bornDate=e.target.value,r(c)},label:"Born date",type:"number",value:n.bornDate}),Object(b.jsx)(g.a,{id:"deathDate",onChange:function(e){c.deathDate=e.target.value,r(c)},label:"Death date",type:"number",value:n.deathDate}),Object(b.jsx)(y.a,{variant:"contained",color:"primary",onClick:w,children:"Add"})]}),Object(b.jsx)(D.a,{style:{overflow:"auto",maxHeight:"100%"},children:o.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(v.a,{button:!0,id:e.name,onClick:function(){return t=e.name,void console.log(t);var t},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",flex:"0 0 100%"},children:[Object(b.jsxs)("div",{style:{flex:"0 0 80%"},children:[Object(b.jsx)(O.a,{primary:e.name}),Object(b.jsx)(O.a,{style:{color:"grey"},primary:"".concat(e.bornDate," - ").concat(e.deathDate)})]}),Object(b.jsx)("div",{children:Object(b.jsx)(k.a,{onClick:function(t){return C(e.id)}})})]})},e.name),Object(b.jsx)(x.a,{})]})}))})]})};var N=function(){return Object(b.jsx)(s.a,{basename:"/timeline",children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{children:Object(b.jsx)(C,{})}),Object(b.jsx)("div",{children:Object(b.jsx)(h,{})})]})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,136)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),I()}},[[93,1,2]]]);
//# sourceMappingURL=main.68dea7d4.chunk.js.map